---
apiVersion: crd.projectcalico.org/v1
kind: BGPConfiguration
metadata:
  name: default
spec:
  asNumber: ${NETWORK_BGP_K8S_ASN}
  nodeToNodeMeshEnabled: true
  serviceClusterIPs:
    - cidr: 10.43.0.0/16
    # - cidr: ${NETWORK_K8S_SERVICE_CIDR_V6}
  serviceExternalIPs:
    #- cidr: "10.1.0.65/32" # VIP kube-api
    - cidr: "10.1.0.1/24" # Experiment
  serviceLoadBalancerIPs:
    - cidr: "${NETWORK_BGP_BLOCK_V4}"
    # metallb v4 range 10.1.0.100-10.1.0.255
    - cidr: "10.1.0.96/27"
    - cidr: "10.1.0.128/25"
    # - cidr: "${METALLB_LB_IP6_RANGE}"
# ---
# apiVersion: crd.projectcalico.org/v1
# kind: BGPConfiguration
# metadata:
#   name: default-v6
# spec:
#   asNumber: ${NETWORK_BGP_K8S_ASN}
#   serviceExternalIPs:
#     - cidr: "${NETWORK_BGP_BLOCK_V6}"
